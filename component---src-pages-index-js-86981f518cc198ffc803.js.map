{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./src/components/pages/palette/add-button.js","webpack:///./src/components/pages/palette/share-button.js","webpack:///./src/components/pages/palette/index.js"],"names":["IndexPage","title","AddButton","initColor","onAddColor","useModalState","closeModal","openModal","showModal","as","InvisibleButton","aria-label","size","onClick","aria-hidden","icon","shareData","className","disabled","text","copyData","ShareButton","timeout","props","href","useLocation","useState","button","setButton","useEffect","clearTimeout","cn","copy","format","setTimeout","key","StyledContainer","ColorPalette","navigate","useNavigate","addRecentColor","useRecentColorsDispatch","useSearchParameters","colors","setColors","hasColors","length","handleColorUpdate","updatedColors","formatColorSearchParams","replace","deleteColor","index","deleteItemByIndex","updateColor","newColor","updateItemByIndex","StyledButton","StyledWrapper","map","color","onUpdate","onDelete","hex","styled","div"],"mappings":"2FAAA,wDAaeA,UATG,WAChB,OACE,oCACE,kBAAC,IAAD,CAAKC,MAAM,YACX,kBAAC,IAAD,S,2MCsBSC,EAvBG,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WAAiB,EACFC,cAArCC,EADuC,EACvCA,WAAYC,EAD2B,EAC3BA,UAAWC,EADgB,EAChBA,UAE/B,OACE,oCACE,kBAAC,IAAD,CACEC,GAAIC,IACJC,aAAW,qBACXC,KAAK,QACLC,QAASN,GAET,kBAAC,IAAD,CAAMO,cAAY,OAAOC,KAAK,wBAEhC,kBAAC,IAAD,CACET,WAAYA,EACZH,UAAWA,EACXC,WAAYA,EACZI,UAAWA,M,6CChBbQ,EAAY,CAChBC,UAAW,UACXC,UAAU,EACVH,KAAM,eACNI,KAAM,SAEFC,EAAW,CACfH,UAAW,UACXC,UAAU,EACVH,KAAM,eACNI,KAAM,WAqCOE,EAlCK,SAAC,GAA6B,IAG5CC,EAHiBL,EAA0B,EAA1BA,UAAcM,EAAY,6BACvCC,EAASC,wBAATD,KADuC,EAEnBE,mBAASV,GAA9BW,EAFwC,KAEhCC,EAFgC,KAmB/C,OANAC,qBAAU,WACR,OAAO,WACLC,aAAaR,MAEd,CAACA,IAGF,0CACEL,UAAWc,YAAG,SAAUJ,EAAOV,UAAWA,GAC1CC,SAAUS,EAAOT,SACjBL,QAlBY,WACdmB,IAAKR,EAAM,CAAES,OAAQ,eACrBL,EAAUR,GACVE,EAAUY,YAAW,WACnBN,EAAUZ,KAvBF,OAsCJO,GAEJ,kBAAC,IAAD,CAAaY,IAAKR,EAAOZ,KAAMH,KAAK,SAClC,kBAAC,IAAD,CAAME,cAAY,OAAOC,KAAMY,EAAOZ,QAExC,8BAAOY,EAAOR,QCoBdiB,GAFSC,IAzDM,WACnB,IAAMC,EAAWC,wBACXC,EAAiBC,cAFE,EAGGf,mBAASgB,eAA9BC,EAHkB,KAGVC,EAHU,KAInBC,IAAcF,EAAOG,OAErBC,EAAoB,SAAAC,GACxBV,EAASW,YAAwBD,GAAgB,CAAEE,SAAS,IAC5DN,EAAUI,IASNG,EAAc,SAAAC,GAAK,OAAI,WAC3B,IAAMJ,EAAgBK,YAAkBV,EAAQS,GAChDL,EAAkBC,KAGdM,EAAc,SAAAF,GAAK,OAAI,SAAAG,GAC3B,IAAMP,EAAgBQ,YAAkBb,EAAQS,EAAOG,GACvDR,EAAkBC,GAClBR,EAAee,KAGjB,OACE,kBAACnB,EAAD,KACGS,EACC,kBAACY,EAAD,cAEA,wBAAIxC,UAAU,gEAAd,wCAIF,kBAACyC,EAAD,KACGb,GACCF,EAAOgB,KAAI,SAACC,EAAOR,GAAR,OACT,kBAAC,IAAD,CACEnC,UAAU,YACVkB,IAAQyB,EAAL,IAAcR,EACjBjD,UAAWyD,EACXC,SAAUP,EAAYF,GACtBU,SAAUX,EAAYC,QAG5B,kBAAC,EAAD,CACEjD,UAAWwC,EAAOA,EAAOG,OAAS,GAClC1C,WAvCY,SAAA2D,GAClB,IAAMf,EAAa,sBAAOL,GAAP,CAAeoB,IAClChB,EAAkBC,GAClBR,EAAeuB,SA6CKC,IAAOC,IAAV,2EAAGD,CAAH,sBAIfN,EAAgBM,IAAOC,IAAV,yEAAGD,CAAH,kGAQbP,EAAeO,YAAO3C,GAAV,wEAAG2C,CAAH","file":"component---src-pages-index-js-86981f518cc198ffc803.js","sourcesContent":["import React from \"react\";\nimport Seo from \"../components/layout/seo\";\nimport Palette from \"../components/pages/palette\";\n\nconst IndexPage = () => {\n  return (\n    <>\n      <Seo title=\"Palette\" />\n      <Palette />\n    </>\n  );\n};\n\nexport default IndexPage;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport useModalState from \"../../../state/modal-hook\";\nimport { InvisibleButton } from \"../../buttons/invisible\";\nimport { Icon, IconWrapper } from \"../../icon\";\nimport ColorPickerModal from \"../../modals/color-picker\";\n\nconst AddButton = ({ initColor, onAddColor }) => {\n  const { closeModal, openModal, showModal } = useModalState();\n\n  return (\n    <>\n      <IconWrapper\n        as={InvisibleButton}\n        aria-label=\"Add a color swatch\"\n        size=\"large\"\n        onClick={openModal}\n      >\n        <Icon aria-hidden=\"true\" icon=\"fas fa-plus-circle\" />\n      </IconWrapper>\n      <ColorPickerModal\n        closeModal={closeModal}\n        initColor={initColor}\n        onAddColor={onAddColor}\n        showModal={showModal}\n      />\n    </>\n  );\n};\n\nexport default AddButton;\n\nAddButton.propTypes = {\n  initColor: PropTypes.string,\n  onAddColor: PropTypes.func.isRequired,\n};\n","import { useLocation } from \"@reach/router\";\nimport copy from \"copy-to-clipboard\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useState } from \"react\";\nimport cn from \"../../../utils/cn\";\nimport { Icon, IconWrapper } from \"../../icon\";\n\nconst delay = 2000;\nconst shareData = {\n  className: \"is-link\",\n  disabled: false,\n  icon: \"fas fa-share\",\n  text: \"Share\",\n};\nconst copyData = {\n  className: \"is-dark\",\n  disabled: true,\n  icon: \"fas fa-check\",\n  text: \"Copied!\",\n};\n\nconst ShareButton = ({ className, ...props }) => {\n  const { href } = useLocation();\n  const [button, setButton] = useState(shareData);\n  let timeout;\n\n  const onClick = () => {\n    copy(href, { format: \"text/plain\" });\n    setButton(copyData);\n    timeout = setTimeout(() => {\n      setButton(shareData);\n    }, delay);\n  };\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [timeout]);\n\n  return (\n    <button\n      className={cn(\"button\", button.className, className)}\n      disabled={button.disabled}\n      onClick={onClick}\n      {...props}\n    >\n      <IconWrapper key={button.icon} size=\"small\">\n        <Icon aria-hidden=\"true\" icon={button.icon} />\n      </IconWrapper>\n      <span>{button.text}</span>\n    </button>\n  );\n};\n\nexport default ShareButton;\n\nShareButton.propTypes = {\n  className: PropTypes.string,\n};\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"@reach/router\";\nimport styled from \"styled-components\";\nimport { useRecentColorsDispatch } from \"../../../state/recent-colors-context\";\nimport useSearchParameters from \"../../../state/search-parameters-hook\";\nimport { deleteItemByIndex, updateItemByIndex } from \"../../../utils/array\";\nimport { formatColorSearchParams } from \"../../../utils/routing\";\nimport InfoSwatchWithPicker from \"../../swatches/info-with-color-picker\";\nimport AddButton from \"./add-button\";\nimport ShareButton from \"./share-button\";\n\nconst ColorPalette = () => {\n  const navigate = useNavigate();\n  const addRecentColor = useRecentColorsDispatch();\n  const [colors, setColors] = useState(useSearchParameters());\n  const hasColors = !!colors.length;\n\n  const handleColorUpdate = updatedColors => {\n    navigate(formatColorSearchParams(updatedColors), { replace: true });\n    setColors(updatedColors);\n  };\n\n  const addNewColor = hex => {\n    const updatedColors = [...colors, hex];\n    handleColorUpdate(updatedColors);\n    addRecentColor(hex);\n  };\n\n  const deleteColor = index => () => {\n    const updatedColors = deleteItemByIndex(colors, index);\n    handleColorUpdate(updatedColors);\n  };\n\n  const updateColor = index => newColor => {\n    const updatedColors = updateItemByIndex(colors, index, newColor);\n    handleColorUpdate(updatedColors);\n    addRecentColor(newColor);\n  };\n\n  return (\n    <StyledContainer>\n      {hasColors ? (\n        <StyledButton>Share</StyledButton>\n      ) : (\n        <h1 className=\"subtitle is-size-3-desktop is-size-4-touch has-text-centered\">\n          Create and share your color palette.\n        </h1>\n      )}\n      <StyledWrapper>\n        {hasColors &&\n          colors.map((color, index) => (\n            <InfoSwatchWithPicker\n              className=\"mr-3 mb-3\"\n              key={`${color}-${index}`}\n              initColor={color}\n              onUpdate={updateColor(index)}\n              onDelete={deleteColor(index)}\n            />\n          ))}\n        <AddButton\n          initColor={colors[colors.length - 1]}\n          onAddColor={addNewColor}\n        />\n      </StyledWrapper>\n    </StyledContainer>\n  );\n};\n\nexport default ColorPalette;\n\nconst StyledContainer = styled.div`\n  padding 2rem 0;\n`;\n\nconst StyledWrapper = styled.div`\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst StyledButton = styled(ShareButton)`\n  bottom: 0.5rem;\n  position: fixed;\n  right: 0.5rem;\n  z-index: 1;\n`;\n"],"sourceRoot":""}